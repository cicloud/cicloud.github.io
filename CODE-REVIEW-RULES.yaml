default:
  skipApproval: false   # false=需要 /approve
  skipReview: false     # false=需要 /lgtm

rules:
  - name: "large-pr"
    match:
      conditions:
        - type: "FilesCount"
          operator: ">"
          value: 10
    skipApproval: false
    skipReview: false

  - name: "new-machine"
    match:
      filePatterns:
        - "machines/*.yaml"
      conditions:
        - type: "AddFile"
    skipApproval: false

  - name: "terminate-machine"
    match:
      filePatterns:
        - "machines/*.yaml"
      conditions:
        - type: "ChangeContent"
          pattern: "status:\\s*Terminated"
    skipApproval: false

  - name: "change-machine-connection"
    match:
      filePatterns: [ "machines/*.yaml" ]
      conditions:
        - type: "ChangeYamlFields"
          fields:
            - "spec.connection.*"
            - "spec.defaultConfigurations.*"
    skipApproval: true

  - name: "docs-only"
    match:
      filePatterns:
        - "**/*.md"
        - "docs/**"
    skipApproval: true