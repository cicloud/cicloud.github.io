rules:
  - name: "update-machine-config"
    match:
      filePatterns:
        - "machines/*.yaml"
      conditions:
        - type: YamlFieldsChanged
          fields:
            - ".spec.connection.*"
            - ".metadata.labels.*"
            - ".spec.defaultConfigurations.*"
    skipApproval: true
  - name: "update-gateways"
    match:
      filePatterns:
        - "gateways/**"
    skipApproval: true
  - name: "update-configmaps"
    match:
      filePatterns:
        - "configmaps/**"
    skipApproval: true
  - name: "update-daemon-versions"
    match:
      filePatterns:
        - "daemons/config.yaml"
      conditions:
        - type: YamlFieldsChanged
          fields:
            - ".version"
    skipApproval: true
  - name: "small-size-pr"
    match:
      conditions:
        - type: LinesCountChanged
          operator: "<="
          value: 100
    skipReview: true